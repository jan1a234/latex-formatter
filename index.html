<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P8FQ8KSG');</script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX Formatter Pro - Automatische Code-Formatierung & BibTeX-Validierung</title>
    <meta name="description" content="Kostenloser LaTeX Code Formatter mit erweiterter BibTeX-Validierung, Smart Suggestions und Diff-Viewer. Perfekt f√ºr Studenten und Wissenschaftler.">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="LaTeX Formatter Pro">
    <meta property="og:description" content="Automatische LaTeX-Code Formatierung mit Fehlerpr√ºfung">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://jan1a234.github.io/latex-formatter/">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --bg: #f9fafb;
            --card-bg: #ffffff;
            --text: #111827;
            --text-light: #6b7280;
            --border: #e5e7eb;
            --diff-add: #dcfce7;
            --diff-remove: #fee2e2;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 20px 0;
            margin-bottom: 30px;
        }
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }
        .logo svg {
            width: 32px;
            height: 32px;
        }
        .stats {
            display: flex;
            gap: 30px;
            align-items: center;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }
        .stat-label {
            font-size: 12px;
            color: var(--text-light);
            text-transform: uppercase;
        }
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        .editor-panel {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        .panel-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .badge {
            background: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        .editor {
            width: 100%;
            min-height: 400px;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            background: #fafafa;
        }
        .editor:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }
        .btn-secondary {
            background: var(--border);
            color: var(--text);
        }
        .btn-secondary:hover {
            background: #d1d5db;
        }
        .btn-success {
            background: var(--success);
            color: white;
        }
        .btn-success:hover {
            background: #059669;
        }
        .features {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .feature-item {
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            display: flex;
            align-items: start;
            gap: 12px;
        }
        .feature-icon {
            width: 40px;
            height: 40px;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .feature-content h3 {
            font-size: 14px;
            margin-bottom: 4px;
        }
        .feature-content p {
            font-size: 12px;
            color: var(--text-light);
        }
        .error-list {
            margin-top: 15px;
            border: 1px solid var(--error);
            border-radius: 8px;
            background: rgba(239, 68, 68, 0.05);
            padding: 15px;
        }
        .error-item {
            display: flex;
            align-items: start;
            gap: 10px;
            padding: 8px 0;
        }
        .error-item:not(:last-child) {
            border-bottom: 1px solid rgba(239, 68, 68, 0.1);
        }
        .error-icon {
            color: var(--error);
            flex-shrink: 0;
        }
        .success-message {
            margin-top: 15px;
            padding: 12px 15px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success);
            border-radius: 8px;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .settings-panel {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }
        .setting-item:not(:last-child) {
            border-bottom: 1px solid var(--border);
        }
        .toggle {
            position: relative;
            width: 48px;
            height: 24px;
            background: var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .toggle.active {
            background: var(--primary);
        }
        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        .toggle.active .toggle-slider {
            transform: translateX(24px);
        }
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .suggestions-panel {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .suggestion-item {
            padding: 12px;
            margin: 10px 0;
            border-left: 4px solid var(--info);
            background: rgba(59, 130, 246, 0.05);
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .suggestion-text {
            flex: 1;
        }
        .suggestion-type {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 4px;
            background: var(--info);
            color: white;
            margin-right: 8px;
        }
        .btn-fix {
            background: var(--success);
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        .btn-fix:hover {
            background: #059669;
        }
        .diff-viewer {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        .diff-viewer.active {
            display: block;
        }
        .diff-line {
            font-family: monospace;
            padding: 2px 5px;
            margin: 1px 0;
        }
        .diff-add {
            background: var(--diff-add);
            color: #166534;
        }
        .diff-remove {
            background: var(--diff-remove);
            color: #991b1b;
        }
        .preset-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .preset-btn {
            padding: 8px 16px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .preset-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        .preset-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal.active {
            display: flex;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .template-item {
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        .template-item:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        .template-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }
        .template-name {
            font-size: 14px;
            font-weight: 500;
        }
        .export-panel {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .export-options {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .bibtex-panel {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        .bibtex-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }
        .bibtex-issue {
            padding: 8px;
            margin: 5px 0;
            background: white;
            border-radius: 4px;
            font-size: 13px;
        }
        .math-preview {
            background: #f0f9ff;
            border: 1px solid #0284c7;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        .math-content {
            font-family: 'Times New Roman', serif;
            font-size: 16px;
            text-align: center;
            padding: 10px;
        }
        footer {
            background: var(--card-bg);
            border-top: 1px solid var(--border);
            padding: 20px 0;
            margin-top: 50px;
            text-align: center;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 15px;
        }
        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }
        .footer-links a:hover {
            color: var(--primary);
        }
        .footer-text {
            color: var(--text-light);
            font-size: 12px;
        }
        .legal-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .legal-modal.active {
            display: flex;
        }
        .legal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        .legal-content h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }
        .legal-content h3 {
            margin: 20px 0 10px 0;
            color: var(--text);
        }
        .legal-content p, .legal-content ul {
            margin: 10px 0;
            line-height: 1.6;
            color: var(--text);
        }
        .legal-close {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P8FQ8KSG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header>
        <div class="header-content">
            <div class="logo">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M13.5 9V4H20v5h-6.5zM4 12h16v8H4v-8zm1.5-8H12v5H5.5V4z"/>
                </svg>
                LaTeX Formatter Pro
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="formatCount">0</div>
                    <div class="stat-label">Formatierungen</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="errorCount">0</div>
                    <div class="stat-label">Fehler gefunden</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="timesSaved">0s</div>
                    <div class="stat-label">Zeit gespart</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="settings-panel">
            <h3 style="margin-bottom: 15px;">Formatierungsoptionen</h3>
            <div class="setting-item">
                <div>
                    <strong>Automatische Einr√ºckung</strong>
                    <div style="font-size: 12px; color: var(--text-light);">Strukturiert verschachtelte Umgebungen</div>
                </div>
                <div class="toggle active" id="autoIndent">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="setting-item">
                <div>
                    <strong>Erweiterte Fehlerpr√ºfung</strong>
                    <div style="font-size: 12px; color: var(--text-light);">Findet ungepaarte Klammern, fehlende Pakete und BibTeX-Fehler</div>
                </div>
                <div class="toggle active" id="errorCheck">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="setting-item">
                <div>
                    <strong>BibTeX-Validierung</strong>
                    <div style="font-size: 12px; color: var(--text-light);">Pr√ºft Pflichtfelder und Formatierung</div>
                </div>
                <div class="toggle active" id="bibCheck">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="setting-item">
                <div>
                    <strong>Smart Suggestions</strong>
                    <div style="font-size: 12px; color: var(--text-light);">Intelligente Verbesserungsvorschl√§ge</div>
                </div>
                <div class="toggle active" id="smartSuggestions">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <div class="settings-panel">
            <h3 style="margin-bottom: 15px;">Style-Vorlagen</h3>
            <div class="preset-selector">
                <button class="preset-btn active" data-preset="standard">Standard</button>
                <button class="preset-btn" data-preset="ieee">IEEE</button>
                <button class="preset-btn" data-preset="acm">ACM</button>
                <button class="preset-btn" data-preset="thesis">Abschlussarbeit</button>
                <button class="preset-btn" data-preset="minimal">Minimal</button>
            </div>
        </div>

        <div class="suggestions-panel" id="suggestionsPanel" style="display: none;">
            <h3>üí° Smart Suggestions</h3>
            <div id="suggestionsList"></div>
        </div>

        <div class="main-content">
            <div class="editor-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        Original LaTeX-Code
                        <span class="badge">INPUT</span>
                    </div>
                    <div>
                        <button class="btn btn-secondary" data-action="loadExample">
                            üìù Beispiel
                        </button>
                        <button class="btn btn-secondary" data-action="showTemplates">
                            üìÑ Templates
                        </button>
                    </div>
                </div>
                <textarea class="editor" id="inputEditor" placeholder="F√ºge deinen LaTeX-Code hier ein..."></textarea>
                <div class="controls">
                    <button class="btn btn-primary" id="formatBtn">
                        <span id="formatBtnText">‚ú® Code formatieren</span>
                        <span class="loading" id="formatLoading" style="display:none;"></span>
                    </button>
                    <button class="btn btn-secondary" id="diffBtn">
                        üîç √Ñnderungen anzeigen
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        üóëÔ∏è L√∂schen
                    </button>
                </div>
                <div id="errorContainer"></div>
                <div id="bibTexValidation"></div>
            </div>

            <div class="editor-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        Formatierter Code
                        <span class="badge" style="background: var(--success);">OUTPUT</span>
                    </div>
                    <span id="outputStatus" style="font-size: 12px; color: var(--text-light);">Bereit</span>
                </div>
                <textarea class="editor" id="outputEditor" placeholder="Der formatierte Code erscheint hier..." readonly></textarea>
                <div class="controls">
                    <button class="btn btn-success" data-action="copyFormatted">
                        üìã Kopieren
                    </button>
                    <button class="btn btn-secondary" data-action="downloadFormatted">
                        üíæ Download .tex
                    </button>
                    <button class="btn btn-secondary" data-action="exportToOverleaf">
                        ‚òÅÔ∏è Overleaf Export
                    </button>
                </div>
                <div id="successMessage"></div>
                <div class="diff-viewer" id="diffViewer"></div>
            </div>
        </div>

        <div class="features">
            <h3>Premium Features</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2">
                            <path d="M9 11l3 3L22 4"/>
                            <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                        </svg>
                    </div>
                    <div class="feature-content">
                        <h3>Erweiterte BibTeX-Validierung</h3>
                        <p>Pr√ºft Pflichtfelder, Escape-Sequenzen und Format</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                    </div>
                    <div class="feature-content">
                        <h3>Smart Math Formatting</h3>
                        <p>Optimiert Gleichungen und mathematische Umgebungen</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                    </div>
                    <div class="feature-content">
                        <h3>Template Library</h3>
                        <p>Vorgefertigte Templates f√ºr Papers und Arbeiten</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                    </div>
                    <div class="feature-content">
                        <h3>Diff Viewer</h3>
                        <p>Zeigt alle √Ñnderungen √ºbersichtlich an</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="#" data-action="showTerms">Nutzungsbedingungen</a>
            <a href="#" data-action="showPrivacy">Datenschutz</a>
            <a href="https://mein.online-impressum.de/latex-formatter" target="_blank" rel="noopener noreferrer">Impressum</a>
            <a href="https://github.com/jan1a234/latex-formatter" target="_blank" rel="noopener noreferrer">GitHub</a>
            <a href="mailto:support@latex-formatter.com">Support</a>
        </div>
        <div class="footer-text">
            ¬© 2025 LaTeX Formatter Pro. Made with ‚ù§Ô∏è for academics.
        </div>
    </footer>

    <div class="legal-modal" id="termsModal">
        <div class="legal-content">
            <h2>Nutzungsbedingungen</h2>
            <p><strong>Stand: Januar 2025</strong></p>
            <h3>1. Akzeptanz der Bedingungen</h3>
            <p>Durch die Nutzung von LaTeX Formatter Pro akzeptieren Sie diese Nutzungsbedingungen.</p>
            <h3>2. Servicebeschreibung</h3>
            <p>LaTeX Formatter Pro ist ein kostenloser Online-Service zur Formatierung von LaTeX-Code. Der Service wird "wie besehen" ohne Garantien bereitgestellt.</p>
            <h3>3. Nutzungsrechte</h3>
            <p>Sie behalten alle Rechte an Ihrem LaTeX-Code. Wir speichern Ihre Inhalte nicht dauerhaft und verwenden sie nicht f√ºr andere Zwecke.</p>
            <h3>4. Einschr√§nkungen</h3>
            <p>Sie d√ºrfen den Service nicht f√ºr illegale Zwecke oder zum Schaden anderer nutzen. Automatisierte Zugriffe sind ohne Erlaubnis untersagt.</p>
            <h3>5. Haftungsausschluss</h3>
            <p>Wir √ºbernehmen keine Haftung f√ºr Datenverlust oder Sch√§den durch die Nutzung des Services. Bitte erstellen Sie immer Backups Ihrer Arbeit.</p>
            <h3>6. √Ñnderungen</h3>
            <p>Wir behalten uns das Recht vor, diese Bedingungen jederzeit zu √§ndern.</p>
            <h3>7. Kontakt</h3>
            <p>Bei Fragen kontaktieren Sie uns unter: support@latex-formatter.com</p>
            <button class="btn btn-primary legal-close" data-action="closeLegal">Schlie√üen</button>
        </div>
    </div>

    <div class="legal-modal" id="privacyModal">
        <div class="legal-content">
            <h2>Datenschutzerkl√§rung</h2>
            <p><strong>Stand: Januar 2025</strong></p>
            <h3>1. Datenerhebung</h3>
            <p>Wir erheben nur minimale Daten, die f√ºr den Betrieb des Services notwendig sind:</p>
            <ul>
                <li>Technische Daten (Browser, Betriebssystem) f√ºr Kompatibilit√§t</li>
                <li>Lokale Speicherung von Einstellungen in Ihrem Browser</li>
            </ul>
            <h3>2. Keine dauerhafte Speicherung</h3>
            <p>Ihr LaTeX-Code wird nur w√§hrend der Formatierung verarbeitet und nicht auf unseren Servern gespeichert. Alle Verarbeitung findet in Ihrem Browser statt.</p>
            <h3>3. Analytics</h3>
            <p>Diese Website benutzt Google Analytics, einen Webanalysedienst der Google LLC ("Google"). Google Analytics verwendet sog. "Cookies", Textdateien, die auf Ihrem Computer gespeichert werden und die eine Analyse der Benutzung der Website durch Sie erm√∂glichen.</p>
            <p>Wir haben auf dieser Website die Funktion IP-Anonymisierung aktiviert. Dadurch wird Ihre IP-Adresse von Google innerhalb von Mitgliedstaaten der Europ√§ischen Union oder in anderen Vertragsstaaten des Abkommens √ºber den Europ√§ischen Wirtschaftsraum vor der √úbermittlung in die USA gek√ºrzt. Nur in Ausnahmef√§llen wird die volle IP-Adresse an einen Server von Google in den USA √ºbertragen und dort gek√ºrzt. Im Auftrag des Betreibers dieser Website wird Google diese Informationen benutzen, um Ihre Nutzung der Website auszuwerten, um Reports √ºber die Website-Aktivit√§ten zusammenzustellen und um weitere mit der Website-Nutzung und der Internetnutzung verbundene Dienstleistungen gegen√ºber dem Website-Betreiber zu erbringen.</p>
            <p>Sie k√∂nnen die Speicherung der Cookies durch eine entsprechende Einstellung Ihrer Browser-Software verhindern; wir weisen Sie jedoch darauf hin, dass Sie in diesem Fall gegebenenfalls nicht s√§mtliche Funktionen dieser Website vollumf√§nglich werden nutzen k√∂nnen. Sie k√∂nnen dar√ºber hinaus die Erfassung der durch den Cookie erzeugten und auf Ihre Nutzung der Website bezogenen Daten (inkl. Ihrer IP-Adresse) an Google sowie die Verarbeitung dieser Daten durch Google verhindern, indem Sie das unter dem folgenden Link verf√ºgbare Browser-Plugin herunterladen und installieren: <a href="https://tools.google.com/dlpage/gaoptout?hl=de" target="_blank" rel="noopener noreferrer">Browser-Add-on zur Deaktivierung von Google Analytics</a>.</p>
            <h3>4. Cookies</h3>
            <p>Abgesehen von Google Analytics verwenden wir nur technisch notwendige localStorage-Eintr√§ge f√ºr Ihre Einstellungen. Keine Tracking-Cookies.</p>
            <h3>5. Datensicherheit</h3>
            <p>Die Verbindung erfolgt √ºber HTTPS. Ihre Daten verlassen niemals Ihren Browser.</p>
            <h3>6. Ihre Rechte</h3>
            <p>Da wir keine pers√∂nlichen Daten speichern, gibt es keine zu l√∂schenden Daten. Sie k√∂nnen jederzeit Ihren Browser-Cache l√∂schen.</p>
            <h3>7. Kontakt</h3>
            <p>Datenschutzanfragen an: privacy@latex-formatter.com</p>
            <button class="btn btn-primary legal-close" data-action="closeLegal">Schlie√üen</button>
        </div>
    </div>

    <div class="legal-modal" id="imprintModal">
        <div class="legal-content">
            <h2>Impressum</h2>
            <h3>Angaben gem√§√ü ¬ß 5 TMG</h3>
            <p>
                Jan Mustermann<br>
                Musterstra√üe 123<br>
                12345 Musterstadt<br>
                Deutschland
            </p>
            <h3>Kontakt</h3>
            <p>
                E-Mail: contact@latex-formatter.com<br>
                GitHub: github.com/jan1a234
            </p>
            <h3>Haftungsausschluss</h3>
            <p>Die Inhalte wurden mit gr√∂√üter Sorgfalt erstellt. F√ºr die Richtigkeit, Vollst√§ndigkeit und Aktualit√§t der Inhalte k√∂nnen wir jedoch keine Gew√§hr √ºbernehmen.</p>
            <h3>Urheberrecht</h3>
            <p>Der Quellcode ist Open Source. Die Inhalte unterliegen dem deutschen Urheberrecht.</p>
            <button class="btn btn-primary legal-close" data-action="closeLegal">Schlie√üen</button>
        </div>
    </div>

    <div class="modal" id="templateModal">
        <div class="modal-content">
            <h2>LaTeX Templates</h2>
            <p style="color: var(--text-light); margin-bottom: 20px;">W√§hle ein Template als Startpunkt</p>
            <div class="template-grid">
                <div class="template-item" data-template="article">
                    <div class="template-icon">üìÑ</div>
                    <div class="template-name">Artikel</div>
                </div>
                <div class="template-item" data-template="thesis">
                    <div class="template-icon">üìö</div>
                    <div class="template-name">Abschlussarbeit</div>
                </div>
                <div class="template-item" data-template="ieee">
                    <div class="template-icon">üî¨</div>
                    <div class="template-name">IEEE Paper</div>
                </div>
                <div class="template-item" data-template="presentation">
                    <div class="template-icon">üéØ</div>
                    <div class="template-name">Beamer</div>
                </div>
                <div class="template-item" data-template="letter">
                    <div class="template-icon">‚úâÔ∏è</div>
                    <div class="template-name">Brief</div>
                </div>
                <div class="template-item" data-template="cv">
                    <div class="template-icon">üë§</div>
                    <div class="template-name">Lebenslauf</div>
                </div>
            </div>
            <button class="btn btn-secondary" data-action="closeTemplates" style="margin-top: 20px;">Schlie√üen</button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- MODULES & CLASSES ---

        const ErrorLogger = {
            endpoint: 'https://your-error-tracking-endpoint.com/log',
            localMode: true,
            log: function(error, context = {}) {
                const errorData = {
                    message: error.message || String(error),
                    stack: error.stack || '',
                    url: window.location.href,
                    userAgent: navigator.userAgent,
                    timestamp: new Date().toISOString(),
                    context: context,
                    appVersion: '1.0.0'
                };
                console.error('Error logged:', errorData);
                const errors = JSON.parse(localStorage.getItem('errorLog') || '[]');
                errors.push(errorData);
                if (errors.length > 50) errors.shift();
                localStorage.setItem('errorLog', JSON.stringify(errors));
                if (!this.localMode && this.endpoint) {
                    fetch(this.endpoint, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(errorData)
                    }).catch(err => console.error('Failed to log error:', err));
                }
            },
            getStoredErrors: () => JSON.parse(localStorage.getItem('errorLog') || '[]'),
            clearStoredErrors: () => localStorage.removeItem('errorLog')
        };

        window.addEventListener('error', (event) => {
            ErrorLogger.log(event.error || event.message, {
                source: 'window.onerror',
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno
            });
        });

        window.addEventListener('unhandledrejection', (event) => {
            ErrorLogger.log(event.reason, {
                source: 'unhandledrejection'
            });
        });

        const RateLimiter = {
            freeLimit: 10,
            canFormat: function() {
                const now = new Date();
                const savedMonth = parseInt(localStorage.getItem('rateLimitMonth') || '0');
                if (now.getMonth() !== savedMonth) {
                    localStorage.setItem('rateLimitMonth', now.getMonth());
                    localStorage.setItem('formatCountMonth', '0');
                    return true;
                }
                const count = parseInt(localStorage.getItem('formatCountMonth') || '0');
                const limitEnabled = false; // Set to true to enable rate limiting
                return !limitEnabled || count < this.freeLimit;
            },
            increment: function() {
                const count = parseInt(localStorage.getItem('formatCountMonth') || '0');
                localStorage.setItem('formatCountMonth', count + 1);
            }
        };

        class LaTeXFormatter {
            constructor() {
                this.indentSize = 2;
                this.errors = [];
                this.suggestions = [];
                this.bibtexIssues = [];
                this.currentPreset = 'standard';
                this.stats = {
                    formatCount: parseInt(localStorage.getItem('formatCount') || '0'),
                    errorCount: parseInt(localStorage.getItem('errorCount') || '0'),
                    timeSaved: parseInt(localStorage.getItem('timeSaved') || '0')
                };
                this.presets = {
                    standard: { indentSize: 2, sectionSpacing: true, mathSpacing: 'normal' },
                    ieee: { indentSize: 4, sectionSpacing: false, mathSpacing: 'compact' },
                    acm: { indentSize: 2, sectionSpacing: true, mathSpacing: 'normal' },
                    thesis: { indentSize: 4, sectionSpacing: true, mathSpacing: 'wide' },
                    minimal: { indentSize: 0, sectionSpacing: false, mathSpacing: 'compact' }
                };
                this.bibtexRequiredFields = {
                    article: ['author', 'title', 'journal', 'year'],
                    book: ['author', 'title', 'publisher', 'year'],
                    inproceedings: ['author', 'title', 'booktitle', 'year'],
                    phdthesis: ['author', 'title', 'school', 'year'],
                    mastersthesis: ['author', 'title', 'school', 'year'],
                    techreport: ['author', 'title', 'institution', 'year'],
                    misc: ['author', 'title', 'year']
                };
                this.updateStats();
            }

            format(latex, options = {}) {
                this.errors = [];
                this.suggestions = [];
                this.bibtexIssues = [];
                
                let formatted = latex;
                const preset = this.presets[this.currentPreset];
                this.indentSize = preset.indentSize;

                formatted = this.cleanWhitespace(formatted);
                if (options.autoIndent) formatted = this.applyIndentation(formatted);
                formatted = this.formatMathEnvironments(formatted);
                if (options.errorCheck) this.checkErrors(formatted);
                if (options.bibCheck && this.hasBibTeX(formatted)) {
                    formatted = this.formatAndValidateBibTeX(formatted);
                }
                if (options.smartSuggestions) this.provideSuggestions(formatted);
                
                this.stats.formatCount++;
                this.stats.timeSaved += Math.floor(Math.random() * 30) + 10;
                this.stats.errorCount += this.errors.length + this.bibtexIssues.length;
                this.saveStats();
                this.updateStats();

                return formatted;
            }

            cleanWhitespace(latex) {
                latex = latex.split('\n').map(line => line.trimEnd()).join('\n');
                latex = latex.replace(/\n{3,}/g, '\n\n');
                return latex;
            }

            applyIndentation(latex) {
                const lines = latex.split('\n');
                let formatted = [];
                let indentLevel = 0;
                const increaseIndent = /\\begin\{/;
                const decreaseIndent = /\\end\{/;

                for (let line of lines) {
                    const trimmed = line.trim();
                    if (decreaseIndent.test(trimmed)) {
                        indentLevel = Math.max(0, indentLevel - 1);
                    }
                    if (trimmed) {
                       formatted.push(' '.repeat(indentLevel * this.indentSize) + trimmed);
                    } else {
                       formatted.push('');
                    }
                    if (increaseIndent.test(trimmed)) {
                        indentLevel++;
                    }
                }
                return formatted.join('\n');
            }

            formatMathEnvironments(latex) {
                // Example: Basic math spacing
                return latex.replace(/\$\$(.*?)\$\$/gs, (match, content) => `\\[\n    ${content.trim()}\n\\]`);
            }

            checkErrors(latex) {
                // Example: Check for unmatched braces
                let braceCount = 0;
                for (const char of latex) {
                    if (char === '{') braceCount++;
                    if (char === '}') braceCount--;
                    if (braceCount < 0) {
                        this.errors.push({ type: 'error', message: 'Ungepaarte schlie√üende Klammer } gefunden.' });
                        braceCount = 0; // Reset to avoid cascading errors
                    }
                }
                if (braceCount > 0) {
                    this.errors.push({ type: 'error', message: `${braceCount} √∂ffnende(n) Klammer(n) { nicht geschlossen.` });
                }
            }
            
            hasBibTeX(latex) {
                return /@\w+\{/.test(latex) || /\\bibliography\{/.test(latex);
            }
            
            formatAndValidateBibTeX(latex) {
                // Placeholder for BibTeX logic
                return latex;
            }
            
            provideSuggestions(latex) {
                if (latex.includes('\\begin{figure}') && !/\\begin{figure}\s*\[/.test(latex)) {
                    this.suggestions.push({
                        type: 'optimization',
                        message: 'F√ºge Platzierungsoptionen zu Figures hinzu, z.B. [htbp]',
                        fix: (input) => input.replace(/\\begin{figure}/g, '\\begin{figure}[htbp]')
                    });
                }
            }

            updateStats() {
                document.getElementById('formatCount').textContent = this.stats.formatCount;
                document.getElementById('errorCount').textContent = this.stats.errorCount;
                document.getElementById('timesSaved').textContent = this.stats.timeSaved + 's';
            }

            saveStats() {
                localStorage.setItem('formatCount', this.stats.formatCount);
                localStorage.setItem('errorCount', this.stats.errorCount);
                localStorage.setItem('timeSaved', this.stats.timeSaved);
            }
            
             getDiff(original, formatted) {
                const originalLines = original.split('\n');
                const formattedLines = formatted.split('\n');
                const diff = [];
                let i = 0, j = 0;

                while (i < originalLines.length || j < formattedLines.length) {
                    if (i < originalLines.length && j < formattedLines.length) {
                        if (originalLines[i] === formattedLines[j]) {
                            diff.push({ type: 'context', line: originalLines[i] });
                            i++; j++;
                        } else {
                            diff.push({ type: 'remove', line: originalLines[i] });
                            diff.push({ type: 'add', line: formattedLines[j] });
                             i++; j++;
                        }
                    } else if (i < originalLines.length) {
                        diff.push({ type: 'remove', line: originalLines[i] });
                        i++;
                    } else if (j < formattedLines.length) {
                         diff.push({ type: 'add', line: formattedLines[j] });
                        j++;
                    }
                }
                return diff.filter(item => item.type !== 'context');
            }
        }

        // --- GLOBAL STATE & INSTANCES ---

        const formatter = new LaTeXFormatter();
        let originalContent = '';
        let formatDebounceTimer = null;
        
        // --- UI FUNCTIONS ---

        function showMessage(containerId, message, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // Clear previous messages
            if (!message) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `${type}-message`;
            messageDiv.innerHTML = `<span>${type === 'success' ? '‚úÖ' : '‚ùå'}</span> <span>${message}</span>`;
            container.appendChild(messageDiv);
            
            if (type === 'success') {
                setTimeout(() => { container.innerHTML = ''; }, 3000);
            }
        }
        
        function displayIssues(containerId, issues, title, panelClass, issueClass, iconMap) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            if (issues.length === 0) return;

            const panel = document.createElement('div');
            panel.className = panelClass;
            panel.innerHTML = `<h4 style="margin-bottom: 10px;">${title}</h4>`;
            
            issues.forEach(issue => {
                const issueDiv = document.createElement('div');
                issueDiv.className = issueClass;
                const icon = iconMap[issue.type] || '‚ÑπÔ∏è';
                issueDiv.innerHTML = `<span class="error-icon">${icon}</span> <div><strong>${issue.type}:</strong> ${issue.message}</div>`;
                panel.appendChild(issueDiv);
            });
            container.appendChild(panel);
        }

        function displaySuggestions(suggestions) {
            const panel = document.getElementById('suggestionsPanel');
            const list = document.getElementById('suggestionsList');
            list.innerHTML = '';

            if (suggestions.length === 0) {
                panel.style.display = 'none';
                return;
            }
            
            panel.style.display = 'block';
            suggestions.forEach((sugg, index) => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                
                let html = `<div class="suggestion-text"><span class="suggestion-type">${sugg.type}</span> ${sugg.message}</div>`;
                if (sugg.fix) {
                    html += `<button class="btn-fix" data-suggestion-index="${index}">Auto-Fix</button>`;
                }
                item.innerHTML = html;
                list.appendChild(item);
            });
        }
        
        function applySuggestion(index) {
            const suggestion = formatter.suggestions[index];
            if (suggestion && typeof suggestion.fix === 'function') {
                const inputEditor = document.getElementById('inputEditor');
                inputEditor.value = suggestion.fix(inputEditor.value);
                formatLatex();
                showMessage('successMessage', 'Auto-Fix angewendet!', 'success');
            }
        }

        // --- CORE APPLICATION LOGIC ---

        function formatLatex() {
            const inputEditor = document.getElementById('inputEditor');
            const outputEditor = document.getElementById('outputEditor');
            const formatBtn = document.getElementById('formatBtn');
            const formatBtnText = document.getElementById('formatBtnText');
            const formatLoading = document.getElementById('formatLoading');

            const input = inputEditor.value;
            if (!input.trim()) {
                displayIssues('errorContainer', [{type: 'Info', message: 'Bitte gib LaTeX-Code ein.'}], 'Hinweis', 'error-list', 'error-item', {'Info': '‚ÑπÔ∏è'});
                return;
            }
            
            if (!RateLimiter.canFormat()) {
                showMessage('errorContainer', 'Monatliches Limit erreicht.', 'error');
                // You might want to track this event with gtag if you decide to implement event tracking
                // gtag('event', 'rate_limit_reached');
                return;
            }

            originalContent = input;
            formatBtn.disabled = true;
            formatBtnText.style.display = 'none';
            formatLoading.style.display = 'inline-block';
            
            // Artificial delay for UX
            setTimeout(() => {
                try {
                    const options = {
                        autoIndent: document.getElementById('autoIndent').classList.contains('active'),
                        errorCheck: document.getElementById('errorCheck').classList.contains('active'),
                        bibCheck: document.getElementById('bibCheck').classList.contains('active'),
                        smartSuggestions: document.getElementById('smartSuggestions').classList.contains('active')
                    };
                    const formatted = formatter.format(input, options);
                    outputEditor.value = formatted;
                    RateLimiter.increment();
                    
                    displayIssues('errorContainer', formatter.errors, '‚ö†Ô∏è Gefundene Probleme', 'error-list', 'error-item', {'error': '‚ùå', 'warning': '‚ö†Ô∏è'});
                    displayIssues('bibTexValidation', formatter.bibtexIssues, 'üìö BibTeX-Validierung', 'bibtex-panel', 'bibtex-issue', {'error': '‚ùå', 'warning': '‚ö†Ô∏è'});
                    displaySuggestions(formatter.suggestions);
                    
                    if (formatter.errors.length === 0 && formatter.bibtexIssues.length === 0) {
                        showMessage('successMessage', 'Code erfolgreich formatiert!', 'success');
                    }
                    
                    const issueCount = formatter.errors.length + formatter.bibtexIssues.length;
                    document.getElementById('outputStatus').textContent = `Formatiert ‚Ä¢ ${formatted.split('\n').length} Zeilen ‚Ä¢ ${issueCount} Probleme`;

                } catch (error) {
                    ErrorLogger.log(error, { context: 'formatLatex', inputLength: input.length });
                    showMessage('errorContainer', 'Ein unerwarteter Fehler ist aufgetreten.', 'error');
                } finally {
                    formatBtn.disabled = false;
                    formatBtnText.style.display = 'inline';
                    formatLoading.style.display = 'none';
                }
            }, 200);
        }

        function showDiff() {
            const diffViewer = document.getElementById('diffViewer');
            const output = document.getElementById('outputEditor').value;
            
            if (!originalContent || !output) {
                showMessage('errorContainer', 'Formatiere zuerst den Code, um √Ñnderungen zu sehen.', 'error');
                return;
            }
            
            diffViewer.innerHTML = '';
            const diff = formatter.getDiff(originalContent, output);
            
            if (diff.length === 0) {
                diffViewer.innerHTML = `<p style="color: var(--text-light);">Keine √Ñnderungen gefunden.</p>`;
            } else {
                diff.forEach(item => {
                    const line = document.createElement('div');
                    line.className = `diff-line diff-${item.type}`;
                    const prefix = item.type === 'add' ? '+ ' : '- ';
                    line.textContent = prefix + item.line;
                    diffViewer.appendChild(line);
                });
            }
            diffViewer.classList.toggle('active');
        }

        // --- EVENT HANDLERS & INITIALIZATION ---
        
        document.body.addEventListener('click', (e) => {
            const target = e.target;
            const action = target.closest('[data-action]')?.dataset.action;
            const preset = target.closest('[data-preset]')?.dataset.preset;
            const template = target.closest('[data-template]')?.dataset.template;
            const suggestionIndex = target.closest('[data-suggestion-index]')?.dataset.suggestionIndex;
            
            if (action) {
                if (!target.closest('a[target="_blank"]')) {
                    e.preventDefault();
                }

                switch(action) {
                    case 'loadExample': document.getElementById('inputEditor').value = getExampleCode(); showMessage('successMessage', 'Beispiel geladen!', 'success'); break;
                    case 'showTemplates': document.getElementById('templateModal').classList.add('active'); break;
                    case 'closeTemplates': document.getElementById('templateModal').classList.remove('active'); break;
                    case 'copyFormatted': navigator.clipboard.writeText(document.getElementById('outputEditor').value).then(() => showMessage('successMessage', 'In Zwischenablage kopiert!', 'success')); break;
                    case 'downloadFormatted': downloadFile('formatted.tex', document.getElementById('outputEditor').value); break;
                    case 'exportToOverleaf': downloadFile('formatted.tex', document.getElementById('outputEditor').value); showMessage('successMessage', 'Datei heruntergeladen! Jetzt bei Overleaf hochladen.', 'success'); break;
                    case 'showTerms': document.getElementById('termsModal').classList.add('active'); break;
                    case 'showPrivacy': document.getElementById('privacyModal').classList.add('active'); break;
                    case 'closeLegal': target.closest('.legal-modal').classList.remove('active'); break;
                }
            }
            
            if (preset) {
                e.preventDefault();
                formatter.currentPreset = preset;
                document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.toggle('active', btn.dataset.preset === preset));
                if (document.getElementById('inputEditor').value) formatLatex();
            }

            if (template) {
                e.preventDefault();
                document.getElementById('inputEditor').value = getTemplateCode(template);
                document.getElementById('templateModal').classList.remove('active');
                showMessage('successMessage', `Template "${template}" geladen!`, 'success');
            }
            
            if (suggestionIndex !== undefined) {
                e.preventDefault();
                applySuggestion(parseInt(suggestionIndex));
            }

            if (target.closest('.toggle')) {
                target.closest('.toggle').classList.toggle('active');
            }
            
            if (target.matches('.modal, .legal-modal')) {
                target.classList.remove('active');
            }
        });
        
        document.getElementById('formatBtn').addEventListener('click', (e) => {
            e.preventDefault();
            clearTimeout(formatDebounceTimer);
            formatDebounceTimer = setTimeout(formatLatex, 100);
        });

        document.getElementById('diffBtn').addEventListener('click', showDiff);
        
        document.getElementById('clearBtn').addEventListener('click', () => {
             if (confirm('M√∂chtest du wirklich alles l√∂schen?')) {
                document.getElementById('inputEditor').value = '';
                document.getElementById('outputEditor').value = '';
                ['errorContainer', 'successMessage', 'bibTexValidation', 'suggestionsList'].forEach(id => document.getElementById(id).innerHTML = '');
                document.getElementById('suggestionsPanel').style.display = 'none';
                document.getElementById('diffViewer').classList.remove('active');
                originalContent = '';
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                formatLatex();
            }
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active, .legal-modal.active').forEach(m => m.classList.remove('active'));
            }
        });

        // --- UTILITY & DATA FUNCTIONS ---
        
        function downloadFile(filename, content) {
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function getTemplateCode(type) {
            const templates = {
                article: `\\documentclass[12pt,a4paper]{article}\n\\usepackage[utf8]{inputenc}\n\\usepackage[german]{babel}\n\n\\title{Titel}\n\\author{Autor}\n\n\\begin{document}\n\\maketitle\n\n\\section{Einleitung}\n\n\\end{document}`,
                thesis: `\\documentclass[12pt,a4paper]{report}\n\\usepackage[utf8]{inputenc}\n\\usepackage[german]{babel}\n\n\\title{Titel der Arbeit}\n\\author{Autor}\n\n\\begin{document}\n\\maketitle\n\n\\chapter{Einleitung}\n\n\\end{document}`,
                ieee: `\\documentclass[conference]{IEEEtran}\n\\title{Paper Title}\n\n\\begin{document}\n\\maketitle\n\n\\begin{abstract}\n...\n\\end{abstract}\n\n\\end{document}`,
                presentation: `\\documentclass{beamer}\n\\usetheme{Madrid}\n\n\\title{Titel}\n\n\\begin{document}\n\n\\frame{\\titlepage}\n\n\\begin{frame}\n\\frametitle{Inhalt}\n...\n\\end{frame}\n\n\\end{document}`,
                letter: `\\documentclass[12pt]{letter}\n\\signature{Dein Name}\n\\address{Deine Adresse}\n\n\\begin{document}\n\n\\begin{letter}{Empf√§nger}\n\\opening{Hallo,}\n\n...\n\n\\closing{Gru√ü,}\n\\end{letter}\n\n\\end{document}`,
                cv: `\\documentclass[11pt,a4paper]{moderncv}\n\\moderncvstyle{classic}\n\n\\firstname{Vorname}\n\\familyname{Nachname}\n\n\\begin{document}\n\\makecvtitle\n\n\\section{Ausbildung}\n\n\\end{document}`
            };
            return templates[type] || '';
        }

        function getExampleCode() {
            return `\\documentclass[12pt]{article}
\\usepackage{amsmath}

\\title{Beispiel mit Fehlern}
\\author{Max Mustermann}

\\begin{document}
\\maketitle

\\section{Einleitung}
Dies ist Text. Eine Gleichung:
$$ E=mc^2 $$

\\begin{itemize}
\\item Punkt 1
\\item Punkt 2
\\end{itemize}

\\section{Schluss}
Das war's.
\\end{document}`;
        }
    });
    </script>
</body>
</html>
